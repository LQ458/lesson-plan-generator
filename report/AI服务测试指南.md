# AI 服务测试指南

## 🎯 重要说明

**毕节教师助手现已完全移除所有模拟数据和模板！**

✅ **已删除的模拟内容：**

- 基础教案模板
- 模拟练习题模板
- 离线降级模板
- 所有"假数据"生成

🔥 **现在必须配置真实 AI 服务才能使用！**

## 👩‍🏫 针对山村教师的界面优化

✨ **新增的友好特性：**

- **简化操作**：使用表情符号和通俗文字，降低使用门槛
- **Markdown 美化**：教案内容自动格式化，更易阅读
- **温馨提示**：用友好的语言替代技术术语
- **免费强调**：明确标注这是完全免费的服务
- **一键式操作**：复杂的配置都有简单的引导说明

## 🚀 快速测试步骤

### 1. 启动应用

```bash
# 开发模式
flutter run

# Web模式（推荐用于测试）
flutter run -d chrome
```

### 2. 配置 AI 服务（必须步骤）

1. 打开应用，进入 **个人中心** → **AI 服务配置**
2. 选择一个 AI 提供商（推荐顺序）：
   - **阿里云通义千问** - 教育优化，免费额度充足
   - **DeepSeek** - 高性价比，技术先进
   - **智谱 ChatGLM** - 中文能力强，稳定可靠

⚠️ **注意：如果不配置 API 密钥，应用将显示错误提示，无法生成任何内容！**

### 3. 获取 API 密钥

#### 阿里云通义千问（推荐）

1. 访问：https://bailian.console.aliyun.com/
2. 注册/登录阿里云账号
3. 开通通义千问服务（新用户有免费额度）
4. 创建 API 密钥
5. 复制密钥到应用中

#### DeepSeek（高性价比）

1. 访问：https://platform.deepseek.com/
2. 注册账号
3. 获取 API 密钥
4. 新用户赠送免费额度

#### 智谱 ChatGLM（稳定可靠）

1. 访问：https://open.bigmodel.cn/
2. 注册账号
3. 创建 API 密钥
4. 查看免费额度

### 4. 测试 AI 功能

#### 教案生成测试

1. 进入 **教案自动生成**
2. 填写测试数据：
   - 学科：数学
   - 年级：三年级
   - 主题：分数的认识
   - 课时：45 分钟
3. 点击 **生成教案**
4. **预期结果**：生成详细的真实教案内容（非模板）

#### 练习题生成测试

1. 进入 **分层练习推荐**
2. 填写：
   - 学科：语文
   - 年级：小学三年级
   - 知识点：拼音
   - 难度：基础
   - 题目数量：5 道
3. 点击 **生成练习题**
4. **预期结果**：生成具体的练习题和答案解析

#### 错误分析测试

1. 进入 **错题分析**
2. 添加一个错题记录
3. 点击 **AI 分析**
4. **预期结果**：获得详细的错误分析和改进建议

#### OCR 文字识别测试

1. 进入 **纸质资料数字化**
2. 拍摄或选择一张包含文字的图片
3. 等待 OCR 识别结果

## 🔍 验证真实 AI 服务的方法

### 如何确认使用的是真实 AI 而非模拟数据：

1. **内容质量检查**：

   - 真实 AI 生成的内容会根据具体输入定制
   - 内容详细、逻辑清晰、符合教学实际
   - 每次生成的内容都会有所不同

2. **错误提示检查**：

   - 未配置 API 密钥时会显示明确的错误提示
   - 网络问题时会显示连接错误
   - API 额度不足时会显示余额提醒

3. **响应时间**：
   - 真实 AI 服务需要网络请求，会有 1-5 秒的等待时间
   - 模拟数据通常瞬间返回

## ⚠️ 常见问题排查

### 问题 1：显示"AI 服务不可用"

**原因**：未配置 API 密钥
**解决**：前往"个人中心 → AI 服务配置"设置 API 密钥

### 问题 2：生成失败，显示网络错误

**原因**：网络连接问题或 API 密钥错误
**解决**：

1. 检查网络连接
2. 验证 API 密钥是否正确
3. 确认账号余额是否充足

### 问题 3：生成内容质量不高

**原因**：可能使用了免费版本的 AI 服务
**解决**：

1. 尝试更换 AI 提供商
2. 升级到付费版本
3. 优化输入的描述信息

## 💡 测试建议

1. **先测试简单场景**：从基础的教案生成开始
2. **对比不同提供商**：测试多个 AI 服务的效果
3. **记录测试结果**：记录哪个提供商效果最好
4. **测试网络异常**：断网测试错误处理是否正确

## 🎓 成功标准

✅ **测试通过的标志：**

- 能够成功配置 API 密钥
- 生成的教案内容详细、专业
- 练习题有具体题目和解析
- 错误分析提供有价值的建议
- 网络异常时显示合适的错误提示

❌ **如果看到以下内容说明有问题：**

- 显示"基础模板"字样
- 内容过于简单或通用
- 瞬间返回结果（无网络请求）
- 出现"模拟数据"相关提示

## 🔧 故障排除

### 常见问题

#### 1. 网络连接错误

**症状**：提示"网络不可用"或"连接超时"
**解决**：

- 检查网络连接
- 确认 API 密钥正确
- 尝试切换到其他 AI 提供商

#### 2. API 密钥错误

**症状**：提示"认证失败"或"API 密钥无效"
**解决**：

- 重新检查 API 密钥是否正确复制
- 确认 API 密钥未过期
- 检查账号余额是否充足

#### 3. 生成内容为空

**症状**：AI 返回空白内容
**解决**：

- 尝试更换提示词
- 检查输入内容是否合理
- 切换到其他 AI 提供商

#### 4. Web 平台限制

**症状**：某些功能在 Web 版无法使用
**解决**：

- 离线 AI 模型需要在移动端使用
- OCR 功能在 Web 端使用在线 AI 识别

## 🔄 降级机制测试

应用具有智能降级机制：

1. **在线 AI 优先** - 网络可用时使用在线服务
2. **离线 AI 备用** - 网络不可用时使用本地模型（移动端）
3. **模板兜底** - AI 服务都不可用时使用基础模板

### 测试降级机制

1. 断开网络连接
2. 尝试生成教案
3. 观察是否自动切换到离线模式或基础模板

## 📊 监控服务状态

在 **AI 服务配置** 界面可以看到：

- 在线服务状态
- 离线模型状态
- 网络连接状态
- API 余额和使用情况

## 💡 优化建议

### 成本控制

1. **教育机构**：推荐阿里云通义千问教育版
2. **个人用户**：推荐 DeepSeek，性价比最高
3. **高频用户**：考虑配置多个提供商自动切换

### 性能优化

1. **网络较差地区**：下载离线模型
2. **移动设备**：优先使用通用模型
3. **数学学科**：配置数学专用模型

## 🆘 技术支持

如遇到问题，请：

1. 查看应用内的 **使用帮助**
2. 检查 **AI 服务配置指南**
3. 提交 **意见反馈**

---

**🎉 恭喜！您现在使用的是完全真实的 AI 教育助手！**
